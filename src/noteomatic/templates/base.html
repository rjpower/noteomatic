<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="/static/tufte.css">
    {% block head %}{% endblock %}
</head>
<body>
    <nav>
        <div class="nav-main">
            <a href="/">Home</a> |
            <a href="/tags">Tags</a> |
            <form id="search-form" action="/search" method="get" style="display: inline-block">
                <input type="text" name="q" placeholder="Search..." required>
                <select name="mode">
                    <option value="regular">Regular Search</option>
                    <option value="ai">AI Search</option>
                </select>
                <button type="submit">Search</button>
            </form>
        </div>
        {% if prev_url or next_url %}
        <div id="nav-controls">
            {% if prev_url %}
            <a href="{{ prev_url }}" id="prev-note" class="nav-arrow">← Previous</a>
            {% endif %}
            {% if next_url %}
            <a href="{{ next_url }}" id="next-note" class="nav-arrow">Next →</a>
            {% endif %}
        </div>
        {% endif %}
    </nav>
    <style>
        nav {
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-arrow {
            margin: 0 0.5rem;
            text-decoration: none;
        }
        #search-form {
            margin-left: 1rem;
        }
        #search-form input[type="text"] {
            font-size: 1rem;
            padding: 0.2rem;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        #search-form button {
            font-size: 1rem;
            padding: 0.2rem 0.5rem;
            border: 1px solid #ccc;
            border-radius: 3px;
            margin-left: 0.5rem;
        }
        .note-preview {
            margin: 0.5rem 0;
            position: relative;
        }
        .date {
            color: #666;
            font-size: 0.9rem;
            margin-left: 1rem;
            font-weight: normal;
        }
        .tag {
            color: #666;
            text-decoration: none;
        }
        .tag:hover {
            text-decoration: underline;
        }
        .preview-text {
            color: #666;
            font-size: 0.9rem;
            margin: 0.3rem 0 1rem 1rem;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
    {% block content %}{% endblock %}
</body>
</html>
